{"version":3,"sources":["components/Header.js","components/MoviesList.js","components/AllMovies.js","components/MyMovies.js","components/Login.js","components/Profile.js","components/SignUp.js","services/api-movies.js","services/api-user.js","services/router.js","components/App.js","index.js"],"names":["Header","props","className","to","isUserLogged","renderUnloggedUserLinks","onClick","logout","renderLoggedUserLinks","MoviesList","renderMovies","movies","map","movie","src","image","alt","name","gender","id","AllMovies","handleOptions","ev","handleAllMoviesOptions","value","target","key","htmlFor","allMoviesOptionGender","onChange","type","checked","allMoviesOptionSort","MyMovies","Login","useState","email","setEmail","password","setPassword","onSubmit","preventDefault","sendLoginToApi","loginErrorMessage","renderErrorMessage","Profile","userName","setName","userEmail","userPassword","sendProfileToApi","SignUp","sendSingUpToApi","signUpErrorMessage","objToExport","getMoviesFromApi","fetch","sort","method","then","response","json","data","console","log","headers","body","JSON","stringify","userId","getProfileFromApi","success","getUserMoviesFromApi","redirect","path","window","location","replace","reload","App","setUserId","setUserName","setUserEmail","setUserPassword","userMovies","setUserMovies","setLoginErrorMessage","setSignUpErrorMessage","appMovies","setAppMovies","setAllMoviesOptionGender","setAllMoviesOptionSort","useEffect","params","apiMovies","apiUser","router","exact","element","loginData","errorMessage","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.cbd2cc48.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Header = props => {\n  const renderUnloggedUserLinks = () => {\n    if (props.isUserLogged === false)\n      return (\n        <>\n          <li className=\"nav__item\">\n            <Link className=\"nav__link\" to=\"/login\">\n              Login\n            </Link>\n          </li>\n          <li className=\"nav__item\">\n            <Link className=\"nav__link\" to=\"/signup\">\n              Registro\n            </Link>\n          </li>\n        </>\n      );\n  };\n\n  const renderLoggedUserLinks = () => {\n    if (props.isUserLogged === true)\n      return (\n        <>\n          <li className=\"nav__item\">\n            <Link className=\"nav__link\" to=\"/profile\">\n              Mi perfil\n            </Link>\n          </li>\n          <li className=\"nav__item\">\n            <Link className=\"nav__link\" to=\"/my-movies\">\n              Mis películas\n            </Link>\n          </li>\n          <li className=\"nav__item\">\n            <span className=\"nav__link\" onClick={props.logout}>\n              Cerrar sesión\n            </span>\n          </li>\n        </>\n      );\n  };\n\n  return (\n    <header className=\"col2 border--medium\">\n      <Link className=\"nav__link\" to=\"/\">\n        <h1 className=\"title--big\">Netflix</h1>\n      </Link>\n      <nav className=\"text-align-right\">\n        <ul>\n          <li className=\"nav__item\">\n            <Link className=\"nav__link\" to=\"/\">\n              Inicio\n            </Link>\n          </li>\n          {renderUnloggedUserLinks()}\n          {renderLoggedUserLinks()}\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nconst MoviesList = (props) => {\n  const renderMovieList = () => {\n    return <ul className=\"cards\">{renderMovies()}</ul>;\n  };\n\n  const renderMovies = () => {\n    return props.movies.map((movie) => {\n      return (\n        <li key={movie.id} className=\"card\">\n          <img\n            className=\"card__img\"\n            src={movie.image}\n            alt={`Carátula de ${movie.name}`}\n          />\n          <h3 className=\"card__title\">{movie.name}</h3>\n          <p className=\"card__description\">Género: {movie.gender}</p>\n        </li>\n      );\n    });\n  };\n\n  const renderEmptyList = () => {\n    return <p>No hay películas en este listado</p>;\n  };\n  return props.movies ? renderMovieList() : renderEmptyList();\n  // return props.movies.length ? renderMovieList() : renderEmptyList();\n};\n\nexport default MoviesList;\n","import React from 'react';\nimport MoviesList from './MoviesList';\nimport '../stylesheets/AppMovies.scss';\n\nconst AllMovies = (props) => {\n  const handleOptions = (ev) => {\n    props.handleAllMoviesOptions({\n      value: ev.target.value,\n      key: ev.target.name,\n    });\n  };\n\n  return (\n    <section className=\"border--medium\">\n      <h1 className=\"title--medium\">\n        Estas son todas las películas de nuestro catálogo\n      </h1>\n      <form className=\"movies__filters\">\n        <div className=\"movies__filters--gender\">\n          <label htmlFor=\"filterGender\">Filtrar por género</label>\n          <select\n            className=\"form__input-text\"\n            id=\"filterGender\"\n            name=\"gender\"\n            value={props.allMoviesOptionGender}\n            onChange={handleOptions}\n          >\n            <option value=\"\">Todas</option>\n            <option value=\"Drama\">Drama</option>\n            <option value=\"Comedia\">Comedia</option>\n          </select>\n        </div>\n\n        <div className=\"movies__filters--sort\">\n          <label>\n            Ordernar: A-Z\n            <input\n              className=\"movies__radio\"\n              type=\"radio\"\n              name=\"sort\"\n              value=\"asc\"\n              checked={props.allMoviesOptionSort === 'asc'}\n              onChange={handleOptions}\n            />\n          </label>\n\n          <label>\n            Z-A\n            <input\n              className=\"movies__radio\"\n              type=\"radio\"\n              name=\"sort\"\n              value=\"desc\"\n              checked={props.allMoviesOptionSort === 'desc'}\n              onChange={handleOptions}\n            />\n          </label>\n        </div>\n      </form>\n\n      <MoviesList movies={props.movies} />\n    </section>\n  );\n};\n\nexport default AllMovies;\n","import React from 'react';\nimport MoviesList from './MoviesList';\n\nconst MyMovies = props => {\n  return (\n    <section className=\"border--medium\">\n      <h1 className=\"title--medium\">Estas son todas tus películas</h1>\n      <MoviesList movies={props.movies} />\n    </section>\n  );\n};\n\nexport default MyMovies;\n","import React, { useState } from 'react';\n\nconst Login = props => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // events\n\n  const handleEmail = ev => {\n    setEmail(ev.target.value);\n  };\n\n  const handlePassword = ev => {\n    setPassword(ev.target.value);\n  };\n\n  const handleForm = ev => {\n    ev.preventDefault();\n    // enviamos los datos a App y este al API\n    props.sendLoginToApi({\n      email: email,\n      password: password\n    });\n  };\n\n  // render\n\n  const renderErrorMessage = () => {\n    // Si el API ha devuelto un error, App lo guarda en su estado y nos lo pasa por props\n    if (props.loginErrorMessage !== '') {\n      return (\n        <p className=\"border--medium border--warning mt-1\">\n          Error en el login: <span className=\"text--bold\">{props.loginErrorMessage}</span>\n        </p>\n      );\n    }\n  };\n\n  return (\n    <section className=\"border--medium\">\n      <h1>Identifícate</h1>\n      <form onSubmit={handleForm}>\n        <label className=\"form__label display-block\" htmlFor=\"email\">\n          Escribe tu email\n        </label>\n        <input\n          className=\"form__input-text\"\n          type=\"text\"\n          name=\"email\"\n          id=\"email\"\n          value={email}\n          onChange={handleEmail}\n        />\n\n        <label className=\"form__label display-block\" htmlFor=\"password\">\n          Escribe tu contraseña\n        </label>\n        <input\n          className=\"form__input-text\"\n          type=\"text\"\n          name=\"password\"\n          id=\"password\"\n          value={password}\n          onChange={handlePassword}\n        />\n\n        <input className=\"form__btn display-block\" type=\"submit\" value=\"Entrar\" />\n\n        {renderErrorMessage()}\n      </form>\n    </section>\n  );\n};\n\nexport default Login;\n","import React, { useState } from 'react';\n\nconst Profile = props => {\n  const [name, setName] = useState(props.userName || '');\n  const [email, setEmail] = useState(props.userEmail || '');\n  const [password, setPassword] = useState(props.userPassword || '');\n\n  // events\n\n  const handleName = ev => {\n    setName(ev.target.value);\n  };\n\n  const handleEmail = ev => {\n    setEmail(ev.target.value);\n  };\n\n  const handlePassword = ev => {\n    setPassword(ev.target.value);\n  };\n\n  const handleForm = ev => {\n    ev.preventDefault();\n    // enviamos los datos a App y este al API\n    props.sendProfileToApi({\n      name: name,\n      email: email,\n      password: password\n    });\n  };\n\n  // render\n\n  return (\n    <section className=\"border--medium\">\n      <h1>Mi perfil</h1>\n      <form onSubmit={handleForm}>\n        <label className=\"form__label display-block\" htmlFor=\"name\">\n          Mi nombre\n        </label>\n        <input\n          className=\"form__input-text\"\n          type=\"text\"\n          name=\"name\"\n          id=\"name\"\n          value={name}\n          onChange={handleName}\n        />\n\n        <label className=\"form__label display-block\" htmlFor=\"email\">\n          Mi email\n        </label>\n        <input\n          className=\"form__input-text\"\n          type=\"text\"\n          name=\"email\"\n          id=\"email\"\n          value={email}\n          onChange={handleEmail}\n        />\n\n        <label className=\"form__label display-block\" htmlFor=\"password\">\n          Mi contraseña\n        </label>\n        <input\n          className=\"form__input-text\"\n          type=\"text\"\n          name=\"password\"\n          id=\"password\"\n          value={password}\n          onChange={handlePassword}\n        />\n\n        <input className=\"form__btn display-block\" type=\"submit\" value=\"Guardar\" />\n      </form>\n    </section>\n  );\n};\n\nexport default Profile;\n","import React, { useState } from 'react';\n\nconst SignUp = props => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // events\n\n  const handleEmail = ev => {\n    setEmail(ev.target.value);\n  };\n\n  const handlePassword = ev => {\n    setPassword(ev.target.value);\n  };\n\n  const handleForm = ev => {\n    ev.preventDefault();\n    // Enviamos los datos a App y este al API\n    props.sendSingUpToApi({\n      email: email,\n      password: password\n    });\n  };\n\n  // render\n\n  const renderErrorMessage = () => {\n    // Si el API ha devuelto un error, APP lo guarda en el estado y nos lo pasa\n    if (props.signUpErrorMessage !== '') {\n      return (\n        <p className=\"border--medium border--warning mt-1\">\n          Error en el registro: <span className=\"text--bold\">{props.signUpErrorMessage}</span>\n        </p>\n      );\n    }\n  };\n\n  return (\n    <section className=\"border--medium\">\n      <h1>Regístrate</h1>\n      <form onSubmit={handleForm}>\n        <label className=\"form__label display-block\" htmlFor=\"email\">\n          Escribe tu email\n        </label>\n        <input\n          className=\"form__input-text\"\n          type=\"text\"\n          name=\"email\"\n          id=\"email\"\n          value={email}\n          onChange={handleEmail}\n        />\n\n        <label className=\"form__label display-block\" htmlFor=\"password\">\n          Escribe tu contraseña\n        </label>\n        <input\n          className=\"form__input-text\"\n          type=\"text\"\n          name=\"password\"\n          id=\"password\"\n          value={password}\n          onChange={handlePassword}\n        />\n\n        <input className=\"form__btn display-block\" type=\"submit\" value=\"Registrar\" />\n\n        {renderErrorMessage()}\n      </form>\n    </section>\n  );\n};\n\nexport default SignUp;\n","// login\n//le pasamos como parámetro value, porque ya está recibiendo un objeto con el género seleccionado\nconst getMoviesFromApi = (value) => {\n  //ampliamos la ruta del fetch con el query params ?gender=${value.gender}\n  //que lo que hace es que introduzca en la url el valor que seleccione la usuaria\n  //añadimos sort a la URL y el método GET como indicaba en apartados anteriores\n  return fetch(\n    `http://localhost:4001/movies?gender=${value.gender}&sort=${value.sort}`,\n    { method: 'GET' }\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n    });\n};\n\nconst objToExport = {\n  getMoviesFromApi: getMoviesFromApi,\n};\n\nexport default objToExport;\n","// login\nconst sendLoginToApi = (data) => {\n  console.log('Se están enviando datos al login:', data);\n  //crear body params\n  //cambiamos el fecth con la ruta correct de login\n  return fetch('http://localhost:4001/login', {\n    //añadimos el método post\n    method: 'POST',\n    //añadimos los headers, esto siempre es igual, copio y pego\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    //añado el body, saco el email y el password de data\n    body: JSON.stringify({\n      email: data.email,\n      password: data.password,\n    }),\n  })\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n      //vacío el segundo then para que me retorne los datos introducidos en data (email y password)\n    });\n};\n\n// signup\n//hago lo mismo que arriba, no sé si es necesario\nconst sendSingUpToApi = (data) => {\n  console.log('Se están enviando datos al signup:', data);\n  // CAMBIA ESTE FETCH PARA QUE APUNTE A UN ENDPOINT DE TU SERVIDOR, PIENSA SI DEBE SER GET O POST, PIENSA QUÉ DATOS DEBES ENVIAR, ETC\n  return fetch('http://localhost:4001/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      email: data.email,\n      password: data.password,\n    }),\n  })\n    .then((response) => response.json())\n    .then((data) => {\n      // CAMBIA EL CONTENIDO DE ESTE THEN PARA GESTIONAR LA RESPUESTA DEL SERVIDOR Y RETORNAR AL COMPONENTE APP LO QUE NECESITA\n      return data;\n    });\n};\n\n// profile\n\nconst sendProfileToApi = (userId, data) => {\n  console.log('Se están enviando datos al profile:', userId, data);\n  // CAMBIA ESTE FETCH PARA QUE APUNTE A UN ENDPOINT DE TU SERVIDOR, PIENSA SI DEBE SER GET O POST, PIENSA QUÉ DATOS DEBES ENVIAR, ETC\n  return fetch(\n    '//beta.adalab.es/curso-intensivo-fullstack-recursos/apis/netflix-v1/empty.json'\n  );\n};\n\nconst getProfileFromApi = (userId) => {\n  console.log('Se están pidiendo datos del profile del usuario:', userId);\n  // CAMBIA ESTE FETCH PARA QUE APUNTE A UN ENDPOINT DE TU SERVIDOR, PIENSA SI DEBE SER GET O POST, PIENSA QUÉ DATOS DEBES ENVIAR, ETC\n  return fetch(\n    '//beta.adalab.es/curso-intensivo-fullstack-recursos/apis/netflix-v1/empty.json'\n  )\n    .then((response) => response.json())\n    .then(() => {\n      // CAMBIA EL CONTENIDO DE ESTE THEN PARA GESTIONAR LA RESPUESTA DEL SERVIDOR Y RETORNAR AL COMPONENTE APP LO QUE NECESITA\n      return {\n        success: true,\n        name: 'Maricarmen',\n        email: 'mari@mail.com',\n        password: '1234567',\n      };\n    });\n};\n\n// user movies\n\nconst getUserMoviesFromApi = (userId) => {\n  console.log(\n    'Se están pidiendo datos de las películas de la usuaria:',\n    userId\n  );\n  // CAMBIA ESTE FETCH PARA QUE APUNTE A UN ENDPOINT DE TU SERVIDOR, PIENSA SI DEBE SER GET O POST, PIENSA QUÉ DATOS DEBES ENVIAR, ETC\n  return fetch(\n    '//beta.adalab.es/curso-intensivo-fullstack-recursos/apis/netflix-v1/empty.json'\n  )\n    .then((response) => response.json())\n    .then(() => {\n      // CAMBIA EL CONTENIDO DE ESTE THEN PARA GESTIONAR LA RESPUESTA DEL SERVIDOR Y RETORNAR AL COMPONENTE APP LO QUE NECESITA\n      return {\n        success: true,\n        movies: [\n          {\n            id: 1,\n            name: 'Gambita de dama',\n            gender: 'Drama',\n            image:\n              '//beta.adalab.es/curso-intensivo-fullstack-recursos/apis/netflix-v1/images/gambito-de-dama.jpg',\n          },\n        ],\n      };\n    });\n};\n\nconst objToExport = {\n  sendLoginToApi: sendLoginToApi,\n  sendSingUpToApi: sendSingUpToApi,\n  sendProfileToApi: sendProfileToApi,\n  getProfileFromApi: getProfileFromApi,\n  getUserMoviesFromApi: getUserMoviesFromApi,\n};\n\nexport default objToExport;\n","/*\nHemos creado este servicio para gestionar las rutas.\n\nNecesitamos este servicio porque react-router-dom solo permite gestionar\nrutas cuando es la usuaria la que pulsa en un link.\n\nSi queremos cambiar de rutas en función de un dato necesitamos hacerlo a través\ndel window.location https://developer.mozilla.org/es/docs/Web/API/Window/location\n\n*/\nconst redirect = path => {\n  // cambiar la ruta actual\n  window.location.replace(`#${path}`);\n};\n\nconst reload = path => {\n  // refrescar la página\n  window.location.reload();\n};\n\nconst objToExport = {\n  redirect: redirect,\n  reload: reload\n};\n\nexport default objToExport;\n","import React, { useEffect, useState } from 'react';\nimport { Route, Routes } from 'react-router-dom';\n// components\nimport Header from './Header';\nimport AllMovies from './AllMovies';\nimport MyMovies from './MyMovies';\nimport Login from './Login';\nimport Profile from './Profile';\nimport SignUp from './SignUp';\n// services\nimport apiMovies from '../services/api-movies';\nimport apiUser from '../services/api-user';\nimport router from '../services/router';\n\nconst App = () => {\n  // state: user\n  const [userId, setUserId] = useState('');\n  const [userName, setUserName] = useState('');\n  const [userEmail, setUserEmail] = useState('');\n  const [userPassword, setUserPassword] = useState('');\n  const [userMovies, setUserMovies] = useState([]);\n  // state: login\n  const [loginErrorMessage, setLoginErrorMessage] = useState('');\n  // state: sign up\n  const [signUpErrorMessage, setSignUpErrorMessage] = useState('');\n  // state: movies\n  const [appMovies, setAppMovies] = useState([]);\n  const [allMoviesOptionGender, setAllMoviesOptionGender] = useState('');\n  const [allMoviesOptionSort, setAllMoviesOptionSort] = useState('asc');\n\n  /*\n  useEffect: obtener las películas del API.\n  Se ejecuta cuando allMoviesOptionGender o allMoviesOptionSort cambian de valor.\n  Como queremos que el back devuelva las películas filtradas por género y ordenadas por nombre estamos pasando a getMoviesFromApi estos dos valores.\n  */\n  useEffect(() => {\n    const params = {\n      gender: allMoviesOptionGender,\n      sort: allMoviesOptionSort,\n    };\n    apiMovies.getMoviesFromApi(params).then((response) => {\n      setAppMovies(response.movies);\n    });\n  }, [allMoviesOptionGender, allMoviesOptionSort]);\n\n  /*\n  useEffect: obtener el perfil de la usuaria.\n  Se ejecuta cuando userId cambian de valor, es decir, cuando pasa de un string vacío a un strin relleno con el id de la usuaria.\n  Como queremos que el back devuelva los datos de una usuaria getProfileFromApi recibe el userId.\n  */\n  useEffect(() => {\n    if (userId !== '') {\n      apiUser.getProfileFromApi(userId).then((response) => {\n        setUserName(response.name);\n        setUserEmail(response.email);\n        setUserPassword(response.password);\n      });\n    }\n  }, [userId]);\n\n  /*\n  useEffect: obtener las películas de la usuaria.\n  Se ejecuta cuando userId cambian de valor, es decir, cuando pasa de un string vacío a un strin relleno con el id de la usuaria.\n  Como queremos que el back devuelva las películas de una usuaria getUserMoviesFromApi recibe el userId.\n  */\n  useEffect(() => {\n    if (userId !== '') {\n      apiUser.getUserMoviesFromApi(userId).then((response) => {\n        setUserMovies(response.movies);\n      });\n    }\n  }, [userId]);\n\n  /*\n  Event: enviar datos del login al API.\n  Con este evento enviamos los datos del login al servidor cuando la usuaria lanza el evento.\n  Como queremos que el back devuelva el id de la usuaria sendLoginToApi recibe el email y la contraseña que ella haya escrito.\n  */\n  const sendLoginToApi = (loginData) => {\n    // Limpiamos el error antes de enviar los datos al API\n    setLoginErrorMessage('');\n    // Enviamos los datos al API\n    apiUser.sendLoginToApi(loginData).then((response) => {\n      if (response.success === true) {\n        setUserId(response.userId);\n        // Si la usuaria introduce bien sus datos redireccionamos desde la página de login al inicio de la página\n        router.redirect('/');\n      } else {\n        // Si la usuaria introduce mal sus datos guardamos el error que nos devuelve el API para que se pinte en la página\n        setLoginErrorMessage(response.errorMessage);\n      }\n    });\n  };\n\n  /*\n  Event: enviar datos del sign up (o registro) al API.\n  Con este evento enviamos los datos del sign up al servidor cuando la usuaria lanza el evento.\n  Como queremos que el back devuelva el id de la usuaria sendSingUpToApi recibe el email y la contraseña que ella haya escrito.\n  */\n  const sendSingUpToApi = (data) => {\n    // Limpiamos el error antes de enviar los datos al API\n    setSignUpErrorMessage('');\n    // Enviamos los datos al API\n    apiUser.sendSingUpToApi(data).then((response) => {\n      if (response.success === true) {\n        setUserId(response.userId);\n        // Si la usuaria introduce bien sus datos redireccionamos desde la página de signup al inicio de la página\n        router.redirect('/');\n      } else {\n        // Si la usuaria introduce mal sus datos guardamos el error que nos devuelve el API para que se pinte en la página\n        setSignUpErrorMessage(response.errorMessage);\n      }\n    });\n  };\n\n  /*\n  Event: enviar datos del profile al API.\n  Con este evento enviamos los datos del profile al servidor cuando la usuaria lanza el evento.\n  Le tenemos que indicar qué datos (nombre, email y contraseña) queremos enviar al API.\n  También le tenemos que indicar cuál es la usuaria actual, por ello enviamos el userId\n  */\n  const sendProfileToApi = (userId, data) => {\n    apiUser.sendProfileToApi(userId, data).then(() => {\n      // Después de enviar los datos al servidor los volvemos a pedir al servidor para tenerlos actualizados\n      apiUser.getProfileFromApi(userId).then((response) => {\n        setUserName(response.name);\n        setUserEmail(response.email);\n        setUserPassword(response.password);\n      });\n    });\n  };\n\n  /*\n  Event: cerrar sesión.\n  Redireccionamos al inicio de la página.\n  Recargamos la página para que se borren todos los datos del estado de React.\n  */\n  const logout = () => {\n    router.redirect('/');\n    router.reload();\n  };\n\n  /*\n  Event: actualizar el género y la ordenación.\n  Aquí solo guardamos los datos en el estado.\n  En el primer useEffect le decimos que cuando estos datos cambien vuelva a pedir las películas al API.\n  */\n  const handleAllMoviesOptions = (data) => {\n    if (data.key === 'gender') {\n      setAllMoviesOptionGender(data.value);\n    } else if (data.key === 'sort') {\n      setAllMoviesOptionSort(data.value);\n    }\n  };\n\n  // render\n\n  return (\n    <>\n      {/* Le paso Header un booleano indicando si la usuaria está o no logada.\n      No es necesario pasarle el userId, no necesita saberlo, le basta con saber si está logada o no.\n      De esta forma Header maneja datos más simples y solo los que necesita. Queremos que Header sea lo más simple posible. */}\n      <Header isUserLogged={!!userId} logout={logout} />\n      <Routes>\n        <Route\n          exact\n          path=\"/\"\n          element={\n            <AllMovies\n              movies={appMovies}\n              allMoviesOptionGender={allMoviesOptionGender}\n              allMoviesOptionSort={allMoviesOptionSort}\n              handleAllMoviesOptions={handleAllMoviesOptions}\n            />\n          }\n        />\n        <Route path=\"/my-movies\" element={<MyMovies movies={userMovies} />} />\n\n        <Route\n          path=\"/login\"\n          element={\n            <Login\n              loginErrorMessage={loginErrorMessage}\n              sendLoginToApi={sendLoginToApi}\n            />\n          }\n        />\n\n        <Route\n          path=\"/signup\"\n          element={\n            <SignUp\n              signUpErrorMessage={signUpErrorMessage}\n              sendSingUpToApi={sendSingUpToApi}\n            />\n          }\n        />\n\n        <Route\n          path=\"/profile\"\n          element={\n            <Profile\n              userName={userName}\n              userEmail={userEmail}\n              userPassword={userPassword}\n              sendProfileToApi={sendProfileToApi}\n            />\n          }\n        />\n      </Routes>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\nimport './stylesheets/index.scss';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}